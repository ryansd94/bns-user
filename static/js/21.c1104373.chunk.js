(this["webpackJsonpbns-user"]=this["webpackJsonpbns-user"]||[]).push([[21],{1044:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return R}));a(4);var r=a(42),n=a(24),c=a(12),s=a(11),o=a.n(s),i=a(1),u=a.n(i),j=a(32),b=a(700),l=a.n(b),O=a(525),h=a(1047),d=a(1053),p=a(265),m=a(180),f=a(82),x=a(90),g=a(504),w=a(17),k=a(461),v=a(813),S=a(196),N=a(673),C=a(1046),y=a(159),P=a(0),T=function(e){var t=Object(j.g)(),a=Object(j.h)().search,s=Object(p.a)().t,b=l.a.parse(a).token,O=(Object(f.c)(),Object(i.useState)(s("Token kh\xf4ng h\u01a1\u0323p l\xea\u0323"))),d=Object(c.a)(O,2),k=(d[0],d[1]),v=Object(i.useState)(""),S=Object(c.a)(v,2),T=(S[0],S[1],Object(i.useState)(!0)),E=Object(c.a)(T,2),A=(E[0],E[1],Object(i.useState)(!1)),q=Object(c.a)(A,2),I=(q[0],q[1],Object(i.useState)("")),M=Object(c.a)(I,2),H=(M[0],M[1],Object(i.useState)(!1)),V=Object(c.a)(H,2),$=(V[0],V[1]),L=u.a.useState({password:"",confirmPassword:"",fullName:""}),_=Object(c.a)(L,2);_[0],_[1];var R=x.object().shape({}),B=Object(m.f)({resolver:Object(N.a)(R)}),D=(B.register,B.control,B.handleSubmit),F=(B.reset,B.setValue,B.formState.errors,function(){var e=Object(n.a)(o.a.mark((function e(a){var n,c,s,i,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=" ",j="+",n=b.replace(new RegExp(o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),j),a.token=n,a.isHasAccount=!0,e.next=5,Object(g.l)(a);case 5:(c=e.sent).errorCode==w.i.success?(s=c.data,i={accessToken:s.token,refreshToken:s.token,shopIndex:s.shopIndex},u=Object(r.a)(Object(r.a)({},s),{},{isAdmin:!0,acceptScreen:[]}),Object(y.f)({token:i,user:u}),$(!0),t.push("/dashboard")):($(!1),k({dirty:!0,msg:c.title}));case 7:case"end":return e.stop()}var o,j}),e)})));return function(t){return e.apply(this,arguments)}}());return Object(P.jsxs)(h.a,{container:!0,rowSpacing:2,children:[Object(P.jsx)(h.a,{item:!0,xs:12,children:Object(P.jsx)("soan",{children:"Ba\u0323n nh\xe2\u0323n \u0111\u01b0\u01a1\u0323c l\u01a1\u0300i m\u01a1\u0300i gia nh\xe2\u0323p, nh\xe2\u0301n va\u0300o nu\u0301t b\xean d\u01b0\u01a1\u0301i \u0111\xea\u0309 tham gia"})}),Object(P.jsx)(h.a,{item:!0,xs:12,children:Object(P.jsx)(C.a,{onClick:D(F),variant:"contained",children:s("Tham gia")})})]})},E=a(1054),A=a(466),q=a(814),I=a.n(q),M=a(784),H=a.n(M),V=a(783),$=a.n(V),L=a(187),_=function(e){var t=Object(j.g)(),a=Object(j.h)().search,s=Object(p.a)().t,b=l.a.parse(a).token,d=(Object(f.c)(),Object(i.useState)(s("Token kh\xf4ng h\u01a1\u0323p l\xea\u0323"))),k=Object(c.a)(d,2),S=(k[0],k[1]),T=Object(i.useState)(""),q=Object(c.a)(T,2),M=q[0],V=q[1],_=Object(i.useState)(!0),R=Object(c.a)(_,2),B=(R[0],R[1]),D=Object(i.useState)(!1),F=Object(c.a)(D,2),J=(F[0],F[1]),U=Object(i.useState)(""),W=Object(c.a)(U,2),z=W[0],G=W[1],K=Object(i.useState)(!1),Q=Object(c.a)(K,2),X=Q[0],Y=Q[1],Z=Object(i.useState)(!1),ee=Object(c.a)(Z,2),te=(ee[0],ee[1]),ae=Object(i.useState)(null),re=Object(c.a)(ae,2),ne=(re[0],re[1],u.a.useState({password:"",confirmPassword:"",fullName:"",image:""})),ce=Object(c.a)(ne,2),se=ce[0],oe=ce[1];function ie(e,t,a){return e.replace(new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),a)}Object(i.useEffect)((function(){if(b){var e=ie(b," ","+");ue(e)}else B(!1)}),[]);var ue=function(){var e=Object(n.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.m)({token:t});case 2:(a=e.sent).errorCode==w.i.success?(te(!0),a.data&&a.data.status==w.l.IS_HAS_ACCOUNT&&J(!0)):S(a.title),B(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=x.object().shape({fullName:x.string().required(s(w.r.error.fieldNotEmpty)),password:x.string().required(s(w.r.error.fieldNotEmpty)),confirmPassword:x.string().required(s(w.r.error.fieldNotEmpty))}),be=Object(m.f)({resolver:Object(N.a)(je),defaultValues:{fullName:"",password:"",confirmPassword:"",image:""}}),le=(be.register,be.control),Oe=be.handleSubmit,he=(be.reset,be.setValue),de=(be.formState.errors,function(){var e=Object(n.a)(o.a.mark((function e(a){var n,c,s,i,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(X){e.next=2;break}return e.abrupt("return");case 2:return n=ie(b," ","+"),a.token=n,a.isHasAccount=!1,e.next=7,Object(g.l)(a);case 7:(c=e.sent).errorCode==w.i.success?(s=c.data,i={accessToken:s.token,refreshToken:s.token,shopIndex:s.shopIndex},u=Object(r.a)(Object(r.a)({},s),{},{isAdmin:!0,acceptScreen:[]}),Object(y.f)({token:i,user:u}),te(!0),t.push("/dashboard")):(te(!1),S({dirty:!0,msg:c.title}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return Object(P.jsxs)(h.a,{container:!0,rowSpacing:2,children:[Object(P.jsx)(h.a,{item:!0,xs:12,className:"flex-container",children:Object(P.jsx)(L.b,{onFileChange:function(e){he("image",e)},control:le,name:"image"})}),Object(P.jsx)(h.a,{item:!0,xs:12,children:Object(P.jsx)("span",{className:"text-note",children:s("Nh\xe2\u0323p Ho\u0323 va\u0300 t\xean ba\u0323n mu\xf4\u0301n hi\xea\u0309n thi\u0323")})}),Object(P.jsx)(h.a,{item:!0,xs:12,children:Object(P.jsx)(O.a,{autoFocus:!0,required:!0,control:le,label:s("Ho\u0323 t\xean \u0111\xe2\u0300y \u0111u\u0309"),name:"fullName"})}),Object(P.jsx)(h.a,{item:!0,xs:12,children:Object(P.jsx)(O.a,{required:!0,control:le,label:s("M\xe2\u0323t kh\xe2\u0309u"),name:"password",type:"password",onChange:function(e){V(e.toLowerCase())},inputProps:{autoComplete:"new-password",form:{autoComplete:"off"},startadornment:Object(P.jsx)(E.a,{position:"start",children:Object(P.jsx)(I.a,{})}),endadornment:Object(P.jsx)(E.a,{position:"end",children:Object(P.jsx)(A.a,{"aria-label":"toggle password visibility",onClick:function(){oe(Object(r.a)(Object(r.a)({},se),{},{showPassword:!se.showPassword}))},onMouseDown:function(e){e.preventDefault()},edge:"end",children:se.showPassword?Object(P.jsx)($.a,{}):Object(P.jsx)(H.a,{})})})}})}),Object(P.jsx)(h.a,{item:!0,xs:12,children:Object(P.jsx)(O.a,{required:!0,control:le,label:s("Nh\xe2\u0323p la\u0323i m\xe2\u0323t kh\xe2\u0309u"),name:"confirmPassword",type:"password",onChange:function(e){G(e.toLowerCase())},InputProps:{autoComplete:"new-password",form:{autoComplete:"off"}}})}),Object(P.jsx)(h.a,{item:!0,xs:12,children:Object(P.jsx)(v.a,{rules:["notEmpty","minLength","number","lowercase","match"],minLength:6,value:M,valueAgain:z,onChange:function(e){return Y(e)},messages:{minLength:s("M\xe2\u0323t kh\xe2\u0309u t\xf4\u0301i thi\xea\u0309u 6 ky\u0301 t\u01b0\u0323"),notEmpty:s("M\xe2\u0323t kh\xe2\u0309u va\u0300 nh\xe2\u0323p la\u0323i m\xe2\u0323t kh\xe2\u0309u kh\xf4ng \u0111\u01b0\u01a1\u0323c tr\xf4\u0301ng"),number:s("M\xe2\u0323t kh\xe2\u0309u pha\u0309i ch\u01b0\u0301a 1 ch\u01b0\u0303 s\xf4\u0301"),lowercase:s("M\xe2\u0323t kh\xe2\u0309u pha\u0309i ch\u01b0\u0301a 1 ky\u0301 t\u01b0\u0323"),match:s("Nh\xe2\u0323p la\u0323i m\xe2\u0323t kh\xe2\u0309u kh\xf4ng tru\u0300ng kh\u01a1\u0301p")}})}),Object(P.jsx)(h.a,{item:!0,xs:12,children:Object(P.jsx)(C.a,{onClick:Oe(de),variant:"contained",children:s("Tham gia")})})]})};function R(){var e=Object(j.h)().search,t=Object(p.a)().t,a=l.a.parse(e).token,r=(Object(f.c)(),Object(i.useState)(t("Token kh\xf4ng h\u01a1\u0323p l\xea\u0323"))),s=Object(c.a)(r,2),b=s[0],O=s[1],v=Object(i.useState)(""),C=Object(c.a)(v,2),y=(C[0],C[1],Object(i.useState)(!0)),E=Object(c.a)(y,2),A=E[0],q=E[1],I=Object(i.useState)(!1),M=Object(c.a)(I,2),H=M[0],V=M[1],$=Object(i.useState)(""),L=Object(c.a)($,2),R=(L[0],L[1],Object(i.useState)(!1)),B=Object(c.a)(R,2),D=(B[0],B[1],Object(i.useState)(!1)),F=Object(c.a)(D,2),J=F[0],U=F[1],W=u.a.useState({password:"",confirmPassword:"",fullName:""}),z=Object(c.a)(W,2);z[0],z[1];function G(e,t,a){return e.replace(new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),a)}Object(i.useEffect)((function(){if(a){var e=G(a," ","+");K(e)}else q(!1)}),[]);var K=function(){var e=Object(n.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.m)({token:t});case 2:(a=e.sent).errorCode==w.i.success?(U(!0),a.data&&a.data.status==w.l.IS_HAS_ACCOUNT&&V(!0)):O(a.title),q(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=x.object().shape({fullName:x.string().required(t(w.r.error.fieldNotEmpty))}),X=Object(m.f)({resolver:Object(N.a)(Q),defaultValues:{fullName:"",password:"",confirmPassword:""}});X.register,X.control,X.handleSubmit,X.reset,X.setValue,X.formState.errors;return A?Object(P.jsx)(S.a,{className:"spinnerWrapperMaster"}):Object(P.jsx)("div",{children:Object(P.jsx)("div",{className:"d-flex align-items-center auth px-0",children:Object(P.jsx)("div",{className:"row w-100 mx-0",children:Object(P.jsx)("div",{className:"col-lg-4 mx-auto",children:Object(P.jsx)("div",{className:"auth-form-light text-left py-5 px-4 px-sm-5",children:Object(P.jsx)(d.a,{component:"form",sx:{"& > :not(style)":{m:1}},noValidate:!0,autoComplete:"off",children:Object(P.jsxs)(h.a,{container:!0,rowSpacing:2,children:[Object(P.jsx)(h.a,{item:!0,xs:12,children:Object(P.jsx)("h3",{children:t("Ta\u0323o ta\u0300i khoa\u0309n BNS")})}),J?H?Object(P.jsx)(T,{}):Object(P.jsx)(_,{}):Object(P.jsx)(k.a,{severity:"error",children:b})]})})})})})})})}}}]);
//# sourceMappingURL=21.c1104373.chunk.js.map
(this["webpackJsonpbns-user"]=this["webpackJsonpbns-user"]||[]).push([[19],{1005:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return T}));var n=r(24),a=r(4),u=r(42),c=r(12),s=r(11),i=r.n(s),o=r(1),p=r.n(o),b=r(32),f=r(27),l=r(1010),d=r(1043),h=r(467),x=r(1038),j=r(1021),v=r(1034),m=r(1039),k=r(785),O=r.n(k),g=r(784),w=r.n(g),y=r(159),N=r(504),q=r(712),I=r.n(q),A=r(1028),C=r(17),S=r(203),P=r(944),D=r.n(P),R=(r(884),r(0));function T(){var e=Object(b.g)(),t=p.a.useState({amount:"",password:"",weight:"",username:"",weightRange:"",showPassword:!1}),s=Object(c.a)(t,2),k=s[0],g=s[1],q=Object(o.useState)(!1),P=Object(c.a)(q,2),T=(P[0],P[1]),U=Object(o.useState)({dirty:!1,msg:""}),V=Object(c.a)(U,2),z=(V[0],V[1]),E=function(e){return function(t){g(Object(u.a)(Object(u.a)({},k),{},Object(a.a)({},e,t.target.value)))}};Object(o.useLayoutEffect)((function(){Object(y.b)()&&e.push("/dashboard")}),[]);S.a.initializeApp({apiKey:"AIzaSyAVvoTuwb55beJbxkPexiu84pLn84IiJws",authDomain:"bns-user.firebaseapp.com"});var F={signInFlow:"redirect",signInSuccessUrl:"/login",signInOptions:[S.a.auth.GoogleAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:function(){!function(){var t=S.a.auth().onAuthStateChanged(function(){var t=Object(n.a)(i.a.mark((function t(r){var n,a,c,s,o,p,b;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,r.getIdToken();case 4:return n=t.sent,t.next=7,Object(N.f)({token:n});case 7:a=t.sent,t.t0=a.status,t.next=t.t0===I.a.OK?11:29;break;case 11:if((c=(a&&a).data).errorCode!=C.h.userNotRegister){t.next=17;break}return e.push("/signup?token=".concat(n)),t.abrupt("break",32);case 17:if(c.errorCode==C.h.success){t.next=22;break}return z({dirty:!0,msg:"ta\u0300i hkoa\u0309n ho\u0103\u0323c m\xe2\u0323t kh\xe2\u0309u sai"}),t.abrupt("break",32);case 22:s=a&&a.data,o=s.data,p={accessToken:o.token,refreshToken:o.token,shopIndex:o.shopIndex},b=Object(u.a)(Object(u.a)({},o),{},{isAdmin:!0,acceptScreen:[]}),Object(y.f)({token:p,user:b}),z({dirty:!1,msg:""}),e.push("/dashboard");case 28:return t.abrupt("break",32);case 29:return z({dirty:!0,msg:"\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra. Vui l\xf2ng th\u1eed l\u1ea1i sau"}),Object(y.e)(),t.abrupt("break",32);case 32:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}()}}};function J(){return(J=Object(n.a)(i.a.mark((function t(){var r,n,a,c,s,o,p;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return!0,T(!0),t.next=5,Object(N.e)({userName:k.username,passWord:k.password,remember:!0});case 5:r=t.sent,T(!1),t.t0=r.status,t.next=t.t0===I.a.OK?10:23;break;case 10:if(a=(n=r&&r).data,n.errors,a.errorCode==C.h.success){t.next=16;break}return z({dirty:!0,msg:"ta\u0300i hkoa\u0309n ho\u0103\u0323c m\xe2\u0323t kh\xe2\u0309u sai"}),t.abrupt("break",26);case 16:c=r&&r.data,s=c.data,o={accessToken:s.token,refreshToken:s.token,shopIndex:s.shopIndex},p=Object(u.a)(Object(u.a)({},s),{},{isAdmin:!0,acceptScreen:[]}),Object(y.f)({token:o,user:p}),z({dirty:!1,msg:""}),e.push("/dashboard");case 22:return t.abrupt("break",26);case 23:return z({dirty:!0,msg:"\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra. Vui l\xf2ng th\u1eed l\u1ea1i sau"}),Object(y.e)(),t.abrupt("break",26);case 26:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(R.jsx)("div",{children:Object(R.jsx)("div",{className:"d-flex align-items-center auth px-0",children:Object(R.jsx)("div",{className:"row w-100 mx-0",children:Object(R.jsx)("div",{className:"col-lg-4 mx-auto",children:Object(R.jsxs)("div",{className:"auth-form-light text-left py-5 px-4 px-sm-5",children:[Object(R.jsx)("div",{className:"brand-logo",children:Object(R.jsx)("img",{src:r(954),alt:"logo"})}),Object(R.jsx)("h4",{children:"Hello! let's get started"}),Object(R.jsx)("h6",{className:"font-weight-light",children:"Sign in to continue."}),Object(R.jsxs)(d.a,{component:"form",sx:{"& > :not(style)":{m:1}},noValidate:!0,autoComplete:"off",children:[Object(R.jsxs)(m.a,{fullWidth:!0,children:[Object(R.jsx)(j.a,{htmlFor:"component-outlined",children:"UserName"}),Object(R.jsx)(x.a,{id:"component-outlined",value:k.username,onChange:E("username"),label:"UserName"})]}),Object(R.jsxs)(m.a,{fullWidth:!0,sx:{m:1},variant:"outlined",children:[Object(R.jsx)(j.a,{htmlFor:"outlined-adornment-password",children:"Password"}),Object(R.jsx)(x.a,{id:"outlined-adornment-password",type:k.showPassword?"text":"password",value:k.password,onChange:E("password"),endAdornment:Object(R.jsx)(v.a,{position:"end",children:Object(R.jsx)(h.a,{"aria-label":"toggle password visibility",onClick:function(){g(Object(u.a)(Object(u.a)({},k),{},{showPassword:!k.showPassword}))},onMouseDown:function(e){e.preventDefault()},edge:"end",children:k.showPassword?Object(R.jsx)(w.a,{}):Object(R.jsx)(O.a,{})})}),label:"Password"})]}),Object(R.jsx)(A.a,{variant:"contained",onClick:function(){return J.apply(this,arguments)},children:"Sign in"})]}),Object(R.jsxs)(l.a,{className:"pt-3",children:[Object(R.jsxs)("div",{className:"my-2 d-flex justify-content-between align-items-center",children:[Object(R.jsx)("div",{className:"form-check",children:Object(R.jsxs)("label",{className:"form-check-label text-muted",children:[Object(R.jsx)("input",{type:"checkbox",className:"form-check-input"}),Object(R.jsx)("i",{className:"input-helper"}),"Keep me signed in"]})}),Object(R.jsx)("a",{href:"!#",onClick:function(e){return e.preventDefault()},className:"auth-link text-black",children:"Forgot password?"})]}),Object(R.jsx)("div",{className:"mb-2",children:Object(R.jsx)(D.a,{uiConfig:F,firebaseAuth:S.a.auth()})}),Object(R.jsxs)("div",{className:"text-center mt-4 font-weight-light",children:["Don't have an account?"," ",Object(R.jsx)(f.b,{to:"/user-pages/register",className:"text-primary",children:"Create"})]})]})]})})})})})}},504:function(e,t,r){"use strict";r.d(t,"e",(function(){return h})),r.d(t,"f",(function(){return x})),r.d(t,"h",(function(){return j})),r.d(t,"d",(function(){return k})),r.d(t,"j",(function(){return O})),r.d(t,"l",(function(){return y})),r.d(t,"k",(function(){return N})),r.d(t,"m",(function(){return q})),r.d(t,"i",(function(){return S})),r.d(t,"b",(function(){return P})),r.d(t,"c",(function(){return D})),r.d(t,"a",(function(){return R})),r.d(t,"g",(function(){return T}));var n=r(24),a=r(11),u=r.n(a),c=r(670),s=r.n(c),i=r(712),o=r.n(i),p=r(159),b=r(702),f=r.n(b),l=function(){var e=s.a.create({baseURL:"".concat("http://ichchauluong-001-site1.atempurl.com","/api"),headers:{"content-type":"application/json"},paramsSerializer:function(e){return f.a.stringify(e)}});return e.interceptors.request.use((function(e){var t=Object(p.b)();return e.headers.Authorization="Bearer ".concat(t),e})),e.interceptors.response.use((function(e){return e.status===o.a[200]&&(e.data.status,o.a[200]),e.data}),function(){var e=Object(n.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.config,t.response.status!==o.a.UNAUTHORIZED||r._retry||Object(p.d)(),e.abrupt("return",Promise.reject(t));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e},d="".concat("http://ichchauluong-001-site1.atempurl.com","/api/account"),h=function(){var e=Object(n.a)(u.a.mark((function e(t){var r,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.post("".concat(d,"/login"),t);case 3:return r=e.sent,e.abrupt("return",r);case 7:if(e.prev=7,e.t0=e.catch(0),n=e.t0.request,a=e.t0.response,!n){e.next=12;break}return e.abrupt("return",n);case 12:if(!a){e.next=14;break}return e.abrupt("return",a);case 14:return e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(n.a)(u.a.mark((function e(t){var r,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.post("".concat(d,"/login-google"),t);case 3:return r=e.sent,e.abrupt("return",r);case 7:if(e.prev=7,e.t0=e.catch(0),n=e.t0.request,a=e.t0.response,!n){e.next=12;break}return e.abrupt("return",n);case 12:if(!a){e.next=14;break}return e.abrupt("return",a);case 14:return e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(n.a)(u.a.mark((function e(t){var r,n,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="".concat(d,"/register-google"),e.next=4,s.a.post(r,t);case 4:return n=e.sent,e.abrupt("return",n);case 8:if(e.prev=8,e.t0=e.catch(0),a=e.t0.request,c=e.t0.response,!a){e.next=13;break}return e.abrupt("return",a);case 13:if(!c){e.next=15;break}return e.abrupt("return",c);case 15:return e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),v=(l(),"/jm_team"),m=l(),k=function(){var e=Object(n.a)(u.a.mark((function e(t){var r,n,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="".concat(v,"/").concat(t),e.next=4,m.get(r);case 4:return n=e.sent,e.abrupt("return",n);case 8:if(e.prev=8,e.t0=e.catch(0),a=e.t0.request,c=e.t0.response,!a){e.next=13;break}return e.abrupt("return",a);case 13:if(!c){e.next=15;break}return e.abrupt("return",c);case 15:return e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(n.a)(u.a.mark((function e(t){var r,n,a,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r="".concat(v),t.id){e.next=9;break}return e.next=5,m.post(r,t);case 5:return n=e.sent,e.abrupt("return",n);case 9:return e.next=11,m.put("".concat(v,"/").concat(t.id),t);case 11:return a=e.sent,e.abrupt("return",a);case 13:e.next=23;break;case 15:if(e.prev=15,e.t0=e.catch(0),c=e.t0.request,s=e.t0.response,!c){e.next=20;break}return e.abrupt("return",c);case 20:if(!s){e.next=22;break}return e.abrupt("return",s);case 22:return e.abrupt("return",e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),g=(l(),"/jm_user"),w=l(),y=function(){var e=Object(n.a)(u.a.mark((function e(t){var r,n,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="".concat(g,"/signup"),e.next=4,w.post(r,t);case 4:return n=e.sent,e.abrupt("return",n);case 8:if(e.prev=8,e.t0=e.catch(0),a=e.t0.request,c=e.t0.response,!a){e.next=13;break}return e.abrupt("return",a);case 13:if(!c){e.next=15;break}return e.abrupt("return",c);case 15:return e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(n.a)(u.a.mark((function e(t){var r,n,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="".concat(g,"/add-user"),e.next=4,w.post(r,t);case 4:return n=e.sent,e.abrupt("return",n);case 8:if(e.prev=8,e.t0=e.catch(0),a=e.t0.request,c=e.t0.response,!a){e.next=13;break}return e.abrupt("return",a);case 13:if(!c){e.next=15;break}return e.abrupt("return",c);case 15:return e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(n.a)(u.a.mark((function e(t){var r,n,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="".concat(g,"/validate-signup"),e.next=4,w.post(r,t);case 4:return n=e.sent,e.abrupt("return",n);case 8:if(e.prev=8,e.t0=e.catch(0),a=e.t0.request,c=e.t0.response,!a){e.next=13;break}return e.abrupt("return",a);case 13:if(!c){e.next=15;break}return e.abrupt("return",c);case 15:return e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),I=r(158),A=r.n(I),C=l(),S=function(){var e=Object(n.a)(u.a.mark((function e(t,r){var n,a,c,s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n="".concat(t),!A.a.isEmpty(r.id)){e.next=9;break}return e.next=5,C.post(n,r);case 5:return a=e.sent,e.abrupt("return",a);case 9:return e.next=11,C.put("".concat(t,"/").concat(r.id),r);case 11:return c=e.sent,e.abrupt("return",c);case 13:e.next=23;break;case 15:if(e.prev=15,e.t0=e.catch(0),s=e.t0.request,i=e.t0.response,!s){e.next=20;break}return e.abrupt("return",s);case 20:if(!i){e.next=22;break}return e.abrupt("return",i);case 22:return e.abrupt("return",e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,r){return e.apply(this,arguments)}}(),P=function(){var e=Object(n.a)(u.a.mark((function e(t){var r,n,a,c,s,i=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:null,e.prev=1,n="".concat(t),r&&(n+=Object(p.a)(r)),e.next=6,C.get(n);case 6:return a=e.sent,e.abrupt("return",a);case 10:if(e.prev=10,e.t0=e.catch(1),c=e.t0.request,s=e.t0.response,!c){e.next=15;break}return e.abrupt("return",c);case 15:if(!s){e.next=17;break}return e.abrupt("return",s);case 17:return e.abrupt("return",e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(n.a)(u.a.mark((function e(t,r){var n,a,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(t,"/").concat(r),e.next=4,C.get(n);case 4:return a=e.sent,e.abrupt("return",a);case 8:if(e.prev=8,e.t0=e.catch(0),c=e.t0.request,s=e.t0.response,!c){e.next=13;break}return e.abrupt("return",c);case 13:if(!s){e.next=15;break}return e.abrupt("return",s);case 15:return e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}(),R=function(){var e=Object(n.a)(u.a.mark((function e(t,r){var n,a,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(t,"/").concat(r),e.next=4,C.delete(n);case 4:return a=e.sent,e.abrupt("return",a);case 8:if(e.prev=8,e.t0=e.catch(0),c=e.t0.request,s=e.t0.response,!c){e.next=13;break}return e.abrupt("return",c);case 13:if(!s){e.next=15;break}return e.abrupt("return",s);case 15:return e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}(),T=function(){var e=Object(n.a)(u.a.mark((function e(t,r){var n,a,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(t),e.next=4,C.post(n,r);case 4:return a=e.sent,e.abrupt("return",a);case 8:if(e.prev=8,e.t0=e.catch(0),c=e.t0.request,s=e.t0.response,!c){e.next=13;break}return e.abrupt("return",c);case 13:if(!s){e.next=15;break}return e.abrupt("return",s);case 15:return e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}()},954:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/logo-dark.4f80b7d9.svg"}}]);
//# sourceMappingURL=19.ed3df9f1.chunk.js.map